### Decode JSON to Homescript value ###

# This is a valid JSON string
let json_string = '{
    "key": 42,
    "test": "foo bar",
    "nested a": {
        "comment": "Even lists work!",
        "list": [1, 2, 3, 4]
    }
}';

# An object can be created by parsing the JSON string
let parsed_object = json_string.parse_json();
debug(parsed_object);


### Encode Homescript value to JSON ###

# An object works as you would expect
println({
    test: "test string",
    list: [1, 2, 3, 4, 5],
    nested: {
        foo: "bar",
        answer: 42,
    },
}.to_json_indent());

# A list works as well
let a = [1, 2, 3, 4, 5];
println(a.to_json());

# A pair is encoded into an object
println(("pair_key" => 42).to_json());
